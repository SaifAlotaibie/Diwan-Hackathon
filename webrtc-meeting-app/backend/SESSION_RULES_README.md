# شروط الجلسات المرئية القضائية — والذكاء الاصطناعي / تدريب النماذج

## الاستخدام الحالي

- **واجهة المستخدم:** عرض الشروط قبل الدخول وإلزام الموافقة.
- **التحقق:** التحقق من الاسم (عربي فقط)، رقم الهوية الوطنية، رقم الجوال، وإتمام التحقق عبر رمز SMS (محاكاة).
- **داخل الجلسة:** إلزام الكاميرا مفتوحة، وإنهاء الجلسة مسموح لرئيس الجلسة فقط.

## استخدام القواعد مع الذكاء الاصطناعي أو تدريب النماذج

يمكن استخدام الملف `session-rules.js` وواجهة `GET /session-rules` كأساس لـ:

1. **تصنيف الامتثال (Compliance labeling)**  
   كل قاعدة لها `id` و`validation` يمكن استخدامهما كـ **تسميات** عند تدريب نموذج على تسجيلات الجلسات:
   - `camera_on_throughout` → هل الكاميرا مفتوحة طوال المدة؟
   - `full_name_arabic_only` → هل الاسم مسجل بالعربية فقط؟
   - `national_id_and_sms_verified` → هل تم التحقق من الهوية ورمز SMS؟
   - `chair_controls_session` → هل إنهاء الجلسة تم من قبل الرئيس فقط؟
   - `minutes_finalized_before_end` → هل تم تثبيت المحاضر قبل الإنهاء؟

2. **تحليل السيشنز (Session analysis)**  
   يمكن لـ نموذج (مثلاً LLM أو مصنف) أن يقرأ النصوص/المحاضر أو وصف الجلسة ويُقيّم كل شرط (ملتزم / غير ملتزم) وفق نفس القواعد.

3. **تدريب مودل على السيشنز**  
   إذا وُجدت بيانات جلسات (تسجيلات، محاضر، أحداث):
   - **Features:** نوع الدور، مدة فتح الكاميرا، وقت إنهاء الجلسة، وجود محاضر، إلخ.
   - **Labels:** قيم من `SESSION_RULES.rules[].validation` (امتثال / عدم امتثال لكل شرط).
   - **النموذج:** يمكن تدريب مصنف أو نموذج تسلسلي للتنبؤ بامتثال الجلسة للشروط.

4. **ربط خدمة SMS حقيقية**  
   في الإنتاج استبدل محاكاة `POST /send-verification-code` و`POST /verify-code` بخدمة SMS فعلية (مثل Twilio أو مزود محلي).

## هيكل القواعد (API)

```json
{
  "title": "شروط الجلسات المرئية القضائية",
  "version": "1.0",
  "rules": [
    { "id": "...", "category": "...", "text": "...", "validation": "..." }
  ],
  "roles": [
    { "value": "chair", "labelAr": "رئيس الجلسة", "canEndSession": true },
    ...
  ]
}
```

استدعاء `GET /session-rules` يعيد هذا الهيكل للواجهة أو لأي نظام ذكاء اصطناعي خارجي.
